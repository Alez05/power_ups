<nav class="navbar px-3 py-2">
  <div class="d-flex justify-content-between align-items-center w-100">

    <!-- Left side: Logo + Search + Links -->
    <div class="d-flex align-items-center gap-3">
      <!-- Logo -->
      <%= link_to root_path do %>
        <%= image_tag "logo1.png", alt: "Logo", style: "height: 35px;" %>
      <% end %>

      <!-- Search -->
      <%= form_with url: power_ups_path, method: :get, local: true, class: "d-flex align-items-center" do %>
        <%= text_field_tag :query, params[:query], placeholder: "ðŸ”Ž Search...", class: "form-control", style: "height: 35px; font-size: 14px; border-radius: 45px;" %>
      <% end %>

      <!-- Shop -->
      <%= link_to "Shop", power_ups_path, class: "text-style pt-1" %>

      <!-- Sell (only if signed in) -->
      <% if user_signed_in? %>
        <%= link_to "Sell", new_power_up_path, class: "text-style pt-1" %>
      <% end %>
    </div>

    <!-- Right side: Account dropdown or Log In -->
    <% if user_signed_in? %>
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" style="background:none;border:none;cursor:pointer;" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          Account
        </button>
        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark" style="background: #000; color: white; box-shadow: 0 0px 15px rgba(0, 0, 0, 0.4);">
          <li class="pt-2 text-start"><%= link_to "My Orders", orders_path, class: "dropdown-item text-style" %></li>
          <li class="pt-2 text-start"><%= link_to "My Listings", listings_path, class: "dropdown-item text-style" %></li>
          <li class="pt-2 text-start"><%= link_to "Log Out", destroy_user_session_path, class: "dropdown-item text-style", data: { turbo_method: :delete } %></li>
        </ul>
      </div>
    <% else %>
      <%= link_to "Log In", new_user_session_path, class: "text-style" %>
    <% end %>

  </div>
</nav>
